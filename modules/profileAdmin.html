<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../dist/style.css">
    <link rel="stylesheet" href="../assets/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/css/colors.css">
    <link rel="stylesheet" href="../assets/css/fontawesome/css/all.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <title>Perfil</title>
    <script>
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }   
    </script>
</head>

<body>
    <div class="head d-flex justify-content-between align-items-center dash-item-back">
        <div class="text-center">
            <span class="text-white pl-3 roboto">[ Kenary ]</span>
        </div>
        <div class="form-row">
            <input type="text" value="Actualizar Informacion" class="form-control m-1 col dash-back-input" id="u"
                placeholder="Buscar" disabled>
        </div>
        <div class="pr-3">
            <a class="text-white" id="logOut"><i class="fas fa-sign-out-alt icon"></i></a>
        </div>
    </div>
    <form action="#" method="POST" class="w-full h-screen-80 flex items-center justify-center flex-wrap">
        <div class="formu-register p-4 col-sm-4 bg-white rounded" action="">
            <h3 align="center">Registrate</h3>
            <div class="form-row">
                <input type="text" id="id" hidden>
                <input type="text" class="form-control col m-1" id="name" placeholder="Nombre">
                <input type="text" class="form-control col m-1" id="lastname" placeholder="Apellido">
            </div>
            <div class="form-row">
                <input type="text" disabled class="form-control col m-1" id="username" placeholder="Usuario">
            </div>
            <div class="form-row">
                <input type="password" minlength="8" class="form-control col m-1" id="pass" placeholder="Contraseña">
                <input type="password" minlength="8" class="form-control col m-1" id="repass"
                    placeholder="Confirm Contraseña">
            </div>
            <div class="form-row">
                <input disabled type="text" class="form-control col m-1" id="date" placeholder="Fecha de Nacimiento">
            </div>
            <div class="form-row">
                <select id="gender" class="custom-select col m-1" disabled>
                    <option selected>Genero</option>
                    <option value="Masculino">Masculino</option>
                    <option value="Femenino">Femenino</option>
                </select>
            </div>
            <div class="form-row">
                <input type="text" class="form-control col m-1" id="career" placeholder="Titulo" disabled>
                <input type="text" class="form-control col m-1" id="grade" placeholder="Grado" disabled>
            </div>
            <div class="form-row">
                <select id="type" class="custom-select col m-1" disabled>
                    <option selected>Seleccione una opcion</option>
                    <option value="Tutor">Tutor</option>
                    <option value="Estudiante">Estudiante</option>
                </select>
            </div>
            <div class="form-group d-flex justify-content-center">
                <button type="submit" class="btn btn-dark" onclick="updateUser()">Actualizar Información</button>
            </div>

        </div>
    </form>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        var id = getParameterByName("idS");
        document.getElementById("id").value = id;
        axios.get('http://localhost:8080/user/' + id)
            .then(function (response) {
                document.getElementById("name").value = response.data["uFirstName"];
                document.getElementById("lastname").value = response.data["uLastName"];
                document.getElementById("username").value = response.data["uUsername"];
                document.getElementById("gender").value = response.data["uGender"];
                document.getElementById("pass").value = response.data["uPassword"];
                document.getElementById("repass").value = response.data["uPassword"];
                document.getElementById("date").value = response.data["uBirthday"];
                document.getElementById("type").value = response.data["uType"];
                document.getElementById("career").value = response.data["uCareer"];
                document.getElementById("grade").value = response.data["uDegree"];
            })
            .catch(function (error) {
                console.log(error);
            })
            .then(function () {
                console.log(document.getElementById("type").value);
            });        
    </script>
</body>

</html>